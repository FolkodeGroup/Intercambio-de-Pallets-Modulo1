{% extends "base.html" %}
{% load static %}

{% block title %}Crear Empresa | Pallet Manager{% endblock %}

{% block content %}


<div class="row justify-content-center pt-4">
    <div class="col-lg-8 col-md-10">
        <div class="px-3">
            <div class="card bg-light p-4 p-md-5 text-dark border-0 shadow-lg"> 
                
                <h2 class="h4 fw-bold mb-4 text-dark">{{ title }}</h2>
                
                <form method="post">
                    {% csrf_token %}
                    

                    <div class="row mb-4">
                        <div class="col-md-12">
                            <label for="id_razon_social" class="form-label text-dark">Razon social</label>
                            <input type="text" class="form-control text-dark" id="id_razon_social" name="razon_social" value="{% if empresa %}{{ empresa.razon_social }}{% elif form_data %}{{ form_data.razon_social }}{% endif %}" required>
                        </div>
                    </div>
                    

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label for="id_cuit" class="form-label text-dark">CUIT</label>
                            <input type="text" class="form-control text-dark" id="id_cuit" name="cuit" value="{% if empresa %}{{ empresa.cuit }}{% elif form_data %}{{ form_data.cuit }}{% endif %}" required>
                        </div>
                        <div class="col-md-6">
                            <label for="id_tipo" class="form-label text-dark">Tipo</label>
                            <select class="form-select text-dark" id="id_tipo" name="tipo" required>
                                <option value="" disabled {% if not empresa and not form_data.tipo %}selected{% endif %}>Cliente / Proveedor</option> 
                                <option value="CLIENTE" {% if empresa and not empresa.es_proveedor %}selected{% elif form_data.tipo == 'CLIENTE' %}selected{% endif %}>Cliente</option>
                                <option value="PROVEEDOR" {% if empresa.es_proveedor %}selected{% elif form_data.tipo == 'PROVEEDOR' %}selected{% endif %}>Proveedor</option>
                            </select>
                        </div>
                    </div>


                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label for="id_telefono" class="form-label text-dark">Tel√©fono</label>
                            <input type="tel" class="form-control text-dark" id="id_telefono" name="telefono" value="{% if empresa %}{{ empresa.telefono }}{% elif form_data %}{{ form_data.telefono }}{% endif %}">
                        </div>
                        <div class="col-md-6">
                            <label for="id_email" class="form-label text-dark">Email</label>
                            <input type="email" class="form-control text-dark" id="id_email" name="email" value="{% if empresa %}{{ empresa.email }}{% elif form_data %}{{ form_data.email }}{% endif %}">
                        </div>
                    </div>


                    <div class="mb-4">
                        <label for="id_direccion" class="form-label text-dark">Direccion</label>
                        <input type="text" class="form-control text-dark" id="id_direccion" name="direccion" value="{% if empresa %}{{ empresa.direccion }}{% elif form_data %}{{ form_data.direccion }}{% endif %}">
                    </div>


                    <div class="d-flex justify-content-end">
                        <a href="{% url 'empresas:lista_empresas' %}" class="btn btn-secondary fw-bold me-3 rounded-pill">Volver</a>
                        
                        <button type="submit" class="btn btn-primary fw-bold rounded-pill">{{ empresa|yesno:"Actualizar,Guardar" }}</button>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</div>
{% endblock %}