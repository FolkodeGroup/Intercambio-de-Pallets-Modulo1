{% load humanize %}

<div class="text-light">
    <div class="table-responsive">
        <table class="table table-sm table-borderless table-striped mb-0">
            
            <thead class="pm-table-header"> 
                <tr>
                    <th scope="col" class="px-3">Empresa</th>
                    <th scope="col" class="text-end">Total In</th>
                    <th scope="col" class="text-end">Total Out</th>
                    <th scope="col" class="text-end px-3">Balance</th>
                </tr>
            </thead>
            <tbody>
                <!-- Bucle para datos reales -->
                {% for empresa in balance_empresas %}
                <tr>
                    <td class="fw-bold px-3">{{ empresa.razon_social }}</td>
                    <td class="text-end">{{ empresa.total_in|floatformat:0|intcomma }}</td>
                    <td class="text-end">{{ empresa.total_out|floatformat:0|intcomma }}</td>
                    {% if empresa.balance > 0 %}
                        <td class="text-end text-success fw-bold px-3">+{{ empresa.balance|floatformat:0|intcomma }}</td>
                    {% elif empresa.balance < 0 %}
                        <td class="text-end text-danger fw-bold px-3">{{ empresa.balance|floatformat:0|intcomma }}</td>
                    {% else %}
                        <td class="text-end text-white-50 fw-bold px-3">0</td>
                    {% endif %}
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center text-white-50 py-3">No hay datos de balance para mostrar.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="py-3 text-center">
        <a href="{% url 'empresas:lista_empresas' %}" class="btn pm-btn-view-more">Ver m√°s</a>
    </div>
</div>